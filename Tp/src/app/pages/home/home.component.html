<!-- Overlay global de loading -->
<div class="overlay" *ngIf="loading">
  <mat-spinner diameter="50"></mat-spinner>
</div>

<!-- Navbar -->
<nav class="navbar">
  <div class="nav-left">
    <span class="logo">🎯 Mi App</span>
  </div>

  <div class="nav-right">
    <a (click)="NavegarQuienSoy()" class="nav-link">Quién soy</a>

    <ng-container *ngIf="(user$ | async) as user">
      <span class="nav-link user-nick">👤 {{ user.nick }}</span>
      <button class="btn btn-logout" (click)="logout()">Cerrar sesión</button>
    </ng-container>
  </div>
</nav>

<!-- Contenido principal -->
<div class="home-container" *ngIf="(user$ | async) as user">
  <p class="welcome">Bienvenido <b>{{ user.nick }}</b>!</p>

  <!-- País y bandera -->
  <div class="pais-info" *ngIf="user.pais && user.paisFlag">
    <img [src]="user.paisFlag" alt="Bandera de {{ user.pais }}" class="bandera" />
    <span>{{ user.pais }}</span>
  </div>

  <!-- Fecha de registro -->
  <p class="fecha">
    📅 Registrado el: {{ user.fechaRegistro?.toDate() | date:'dd/MM/yyyy HH:mm' }}
  </p>

  <!-- Botones de navegación -->
  <div class="options">
    <button class="btn" (click)="NavegarJuegos()">🎮 Juegos</button>
    <button class="btn" (click)="NavegarListados()">📋 Listados</button>
  </div>
</div>
