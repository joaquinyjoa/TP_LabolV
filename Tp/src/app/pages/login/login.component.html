<p-toast position="top-right" [baseZIndex]="10000"></p-toast>

<div class="login-container">
  <form autocomplete="off" class="form" (ngSubmit)="submit()" [formGroup]="form">
    <h1>Inicio de sesi칩n</h1>

    <div class="control">
      <input name="email" placeholder="Email" type="text" formControlName="email">
      <small *ngIf="esRequerido('email')">Este campo es requerido</small>
      <small *ngIf="esEmailValido()">El email no es v치lido</small>
    </div>

    <div class="control">
      <input name="password" placeholder="Contrase침a" type="password" formControlName="password">
      <small *ngIf="esRequerido('password')">Este campo es requerido</small>
      <!-- Mensaje de formato de contrase침a -->
      <small *ngIf="form.get('password')?.touched && form.get('password')?.hasError('pattern')">
        La contrase침a debe tener al menos 6 caracteres, incluyendo una may칰scula y una min칰scula
      </small>
      
      <!-- Mensaje de contrase침a demasiado corta -->
      <small *ngIf="form.get('password')?.touched && form.get('password')?.hasError('minlength')">
        La contrase침a debe tener m칤nimo 6 caracteres
      </small>
    </div>

    <button class="btn" type="submit">Iniciar sesi칩n</button>
    
    <p class="link">
      쯅o tienes cuenta? 
      <a href="#" (click)="irRegistro($event)">Reg칤strate aqu칤</a>
    </p>
  </form>

  <!-- 游댳 Acceso r치pido -->
  <div class="acceso-rapido">
    <h3>Acceso r치pido 游</h3>
    <div class="botones">
      <button *ngFor="let user of usuariosRapidos"
              class="btn-rapido"
              (click)="loginRapido(user)">
        {{ user.label }}
      </button>
    </div>
  </div>
</div>

<!-- Overlay global de loading -->
<div class="overlay" *ngIf="loading">
  <mat-spinner diameter="50"></mat-spinner>
</div>
